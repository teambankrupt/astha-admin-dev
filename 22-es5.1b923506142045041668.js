!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Unri:function(n,o,c){"use strict";c.r(o),c.d(o,"ProductsModule",(function(){return T}));var r=c("SVse"),i=c("iInd"),a=c("ON34"),l=c("AIlu"),u=c("mrSG"),s=c("pLZG"),d=c("Zy1z"),b=c("IheW"),p=c("8Y7J"),g=c("mb36"),f=c("EApP"),h=c("fb7o"),v=c("wTG2"),m=c("s7LF"),S=c("a3+x"),R=c("G0yt");function P(t,e){if(1&t&&(p.Sb(0,"option",30),p.Lc(1),p.Rb()),2&t){var n=e.$implicit;p.mc("ngValue",n.value),p.zb(1),p.Mc(n.name)}}var y=function(t){return{"background-color":t}},C=function(t){return["/products/add/new/",t]},M=function(t,e){return{status:t,productId:e}};function z(t,e){if(1&t){var n=p.Tb();p.Sb(0,"tr",22),p.Sb(1,"td"),p.Lc(2),p.Rb(),p.Sb(3,"td",23),p.Lc(4),p.Rb(),p.Sb(5,"td"),p.Lc(6),p.Rb(),p.Sb(7,"td"),p.Lc(8),p.Rb(),p.Sb(9,"td"),p.Sb(10,"select",24),p.dc("ngModelChange",(function(t){return p.zc(n),e.$implicit.status=t}))("change",(function(){p.zc(n);var t=e.$implicit;return p.hc(2).onChangeStatusClick(t)})),p.Jc(11,P,2,2,"option",25),p.Rb(),p.Rb(),p.Sb(12,"td"),p.Sb(13,"a",26),p.Sb(14,"i",27),p.Lc(15,"\ue254"),p.Rb(),p.Rb(),p.Rb(),p.Sb(16,"td",28),p.Sb(17,"button",29),p.dc("confirm",(function(){p.zc(n);var t=e.$implicit;return p.hc(2).onRemoveProduct(t)}))("cancel",(function(){return p.zc(n),p.hc(2).cancelClicked=!0})),p.Sb(18,"i",27),p.Lc(19,"\ue872"),p.Rb(),p.Rb(),p.Rb(),p.Rb()}if(2&t){var o=e.$implicit,c=p.hc(2);p.mc("ngStyle",p.qc(11,y,c.isProductOperated(null==o?null:o.id,null==o?null:o.status))),p.zb(2),p.Nc(" ",null==o?null:o.name,""),p.zb(2),p.Mc(null==o?null:o.category_name),p.zb(2),p.Mc(null==o?null:o.brand_name),p.zb(2),p.Mc(null==o?null:o.status),p.zb(2),p.mc("ngModel",o.status),p.zb(1),p.mc("ngForOf",c.statusList),p.zb(2),p.mc("routerLink",p.qc(13,C,null==o?null:o.id))("queryParams",p.rc(15,M,c.selectedStatus,null==o?null:o.id)),p.zb(4),p.mc("popoverTitle",c.popoverTitle)("popoverMessage",c.popoverMessage)}}function L(t,e){if(1&t&&(p.Sb(0,"div",18),p.Sb(1,"table",19),p.Sb(2,"thead",20),p.Sb(3,"tr"),p.Sb(4,"th"),p.Lc(5," Name "),p.Rb(),p.Sb(6,"th"),p.Lc(7," Category "),p.Rb(),p.Sb(8,"th"),p.Lc(9," Brand "),p.Rb(),p.Sb(10,"th"),p.Lc(11," Status "),p.Rb(),p.Sb(12,"th"),p.Lc(13," Change Status "),p.Rb(),p.Sb(14,"th"),p.Lc(15," Update "),p.Rb(),p.Sb(16,"th"),p.Lc(17," Delete "),p.Rb(),p.Rb(),p.Rb(),p.Sb(18,"tbody"),p.Jc(19,z,20,18,"tr",21),p.Rb(),p.Rb(),p.Rb()),2&t){var n=p.hc();p.zb(19),p.mc("ngForOf",null==n.products?null:n.products.content)}}function O(t,e){1&t&&(p.Sb(0,"div",0),p.Sb(1,"div",31),p.Sb(2,"div",8),p.Sb(3,"div",32),p.Sb(4,"span",33),p.Lc(5,"Loading..."),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb())}function _(t,e){1&t&&(p.Sb(0,"div",0),p.Sb(1,"div",31),p.Sb(2,"div",34),p.Nb(3,"img",35),p.Rb(),p.Rb(),p.Rb())}function k(t,e){if(1&t){var n=p.Tb();p.Sb(0,"div",36),p.Sb(1,"div",2),p.Sb(2,"div",37),p.Sb(3,"ngb-pagination",38),p.dc("pageChange",(function(t){return p.zc(n),p.hc().page=t}))("pageChange",(function(t){return p.zc(n),p.hc().onPaginateChange(t)})),p.Rb(),p.Rb(),p.Rb(),p.Rb()}if(2&t){var o=p.hc();p.zb(3),p.mc("collectionSize",o.totalElements)("pageSize",o.size)("page",o.page)}}function w(t,e){if(1&t&&(p.Sb(0,"div"),p.Nb(1,"img",48),p.Rb()),2&t){var n=p.hc(2);p.zb(1),p.nc("src",null==n.iProduct?null:n.iProduct.images,p.Bc)}}function I(t,e){if(1&t&&(p.Sb(0,"div"),p.Nb(1,"img",48),p.Rb()),2&t){var n=p.hc(2);p.zb(1),p.nc("src",null==n.iProduct?null:n.iProduct.images[0],p.Bc)}}function E(t,e){if(1&t){var n=p.Tb();p.Sb(0,"div",39),p.Sb(1,"h4",40),p.Lc(2),p.Rb(),p.Sb(3,"button",41),p.dc("click",(function(){return p.zc(n),p.hc().modalRef.hide()})),p.Sb(4,"span",42),p.Lc(5,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"div",43),p.Sb(7,"div",44),p.Sb(8,"div",0),p.Sb(9,"div",31),p.Jc(10,w,2,1,"div",45),p.Jc(11,I,2,1,"div",45),p.Rb(),p.Sb(12,"div",46),p.Sb(13,"p"),p.Sb(14,"span",47),p.Lc(15,"Name: "),p.Rb(),p.Lc(16),p.Rb(),p.Sb(17,"p"),p.Sb(18,"span",47),p.Lc(19,"Category: "),p.Rb(),p.Lc(20),p.Rb(),p.Sb(21,"p"),p.Sb(22,"span",47),p.Lc(23,"Brand: "),p.Rb(),p.Lc(24),p.Rb(),p.Sb(25,"p"),p.Sb(26,"span",47),p.Lc(27,"Current Status: "),p.Rb(),p.Lc(28),p.Rb(),p.Sb(29,"p"),p.Sb(30,"span",47),p.Lc(31,"Description: "),p.Rb(),p.Lc(32),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()}if(2&t){var o=p.hc();p.zb(2),p.Nc("Product Details of ",null==o.iProduct?null:o.iProduct.name,""),p.zb(8),p.mc("ngIf",1==(null==o.iProduct||null==o.iProduct.images?null:o.iProduct.images.length)),p.zb(1),p.mc("ngIf",(null==o.iProduct||null==o.iProduct.images?null:o.iProduct.images.length)>1),p.zb(5),p.Mc(null==o.iProduct?null:o.iProduct.name),p.zb(4),p.Mc(null==o.iProduct?null:o.iProduct.category_names),p.zb(4),p.Mc(null==o.iProduct?null:o.iProduct.brand_name),p.zb(4),p.Nc("",null!=o.iProduct&&o.iProduct.approved?"Approved":"Unapproved"," "),p.zb(4),p.Mc(null==o.iProduct?null:o.iProduct.description)}}var j,D,J,q=[{path:"",component:a.a},{path:"requested",component:(j=function(){function n(e,o,c,r,i){t(this,n),this.baseService=e,this.toastr=o,this.activatedRoute=c,this.router=r,this.requestedProductService=i,this.loading=!0,this.size=10,this.page=1,this.search_key="",this.popoverTitle="Are you sure?",this.popoverMessage="Are you really sure you want to delete this?",this.popoverApproveMessage="Are you really sure you want to approved this?",this.popoverUnapproveMessage="Are you really sure you want to unapproved this?",this.cancelClicked=!1,this.statusList=[{id:1,name:"Pending",value:"PENDING"},{id:2,name:"Processed",value:"PROCESSED"},{id:3,name:"Accepted",value:"ACCEPTED"},{id:4,name:"Declined",value:"DECLINED"}],this.selectedAction=null}var o,c,r;return o=n,(c=[{key:"ngOnInit",value:function(){var t=this;this.retrieveFilteredData().then((function(e){t.page=t.activatedRoute.snapshot.paramMap.get("page")?Number(t.activatedRoute.snapshot.paramMap.get("page")):1,t.onClickGo()}))}},{key:"onClickGo",value:function(){this.get_products(this.page-1,this.size,this.selectedStatus)}},{key:"get_products",value:function(t,e,n){var o=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.search_key;this.loading=!0,this.totalElements=null,this.requestedProductService.get_products(t,e,n,c).subscribe((function(t){var e;o.products=t,o.loading=!1,o.totalElements=null===(e=o.products)||void 0===e?void 0:e.totalElements}),(function(t){o.products=null,o.loading=!1,o.totalElements=null,o.baseService.handleError(t)}))}},{key:"onPaginateChange",value:function(t){this.router.navigate(["/products",{page:t}]),this.get_products(this.page-1,this.size,this.selectedStatus)}},{key:"_searchProduct",value:function(t){""==t&&this.get_products(this.page-1,this.size,this.selectedStatus)}},{key:"onRemoveProduct",value:function(t){var e=this;this.requestedProductService.remove_products(t.id).subscribe((function(t){e.toastr.success("Deleted Successfully!",""),e.onClickGo()}),(function(t){e.baseService.handleError(t)}))}},{key:"onChangeStatusClick",value:function(t){var e=this;confirm("Are you sure to Change Status")&&this.requestedProductService.change_status(t).subscribe((function(t){e.toastr.success("Product Status Changed Successfully!","")}),(function(t){e.baseService.handleError(t)}))}},{key:"onStatusChange",value:function(t){null!=t||null!=t?this.get_products(this.page-1,this.size,null==t?void 0:t.value):this.onClickGo()}},{key:"retrieveFilteredData",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.router.events.pipe(Object(s.a)((function(t){return t instanceof i.l})),Object(d.a)()).subscribe((function(t){var e=t[0].urlAfterRedirects.split("?");if(e.length>=2){var n=new b.d({fromString:e[1]});n.get("status")&&localStorage.setItem("status",n.get("status")),n.get("productId")&&localStorage.setItem("productId",n.get("productId"))}})),localStorage.getItem("status")&&(this.selectedStatus=Boolean(localStorage.getItem("status")),localStorage.removeItem("status")),localStorage.getItem("productId")&&(this.selectedProductId=Number(localStorage.getItem("productId")),localStorage.removeItem("productId"));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"isProductOperated",value:function(t,e){return t==this.selectedProductId?"#80ff80":"ACCEPTED"!=e?"#f7c2b5":void 0}}])&&e(o.prototype,c),r&&e(o,r),n}(),j.\u0275fac=function(t){return new(t||j)(p.Mb(g.a),p.Mb(f.b),p.Mb(i.a),p.Mb(i.f),p.Mb(h.a))},j.\u0275cmp=p.Gb({type:j,selectors:[["app-requested-product"]],decls:25,vars:9,consts:[[1,"row"],[1,"col-lg-12","grid-margin","stretch-card","mb-0"],[1,"card"],[1,"card-body"],[1,"card-title","row"],[1,"col-md-4"],[1,"form-group","mb-0"],["bindValue","value","bindLabel","name","placeholder","Select Status",3,"items","selectOnTab","hideSelected","ngModel","change","ngModelChange"],[1,"d-flex","justify-content-center"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search Product","aria-label","search product",1,"form-control",3,"ngModel","ngModelChange","keyup.enter","input"],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-gradient-primary",3,"click"],["class","table-responsive pt-3",4,"ngIf"],["class","row",4,"ngIf"],["class","col-lg-12 grid-margin stretch-card",4,"ngIf"],["template",""],[1,"table-responsive","pt-3"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"category"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["title","Edit","data-toggle","tooltip",1,"edit",3,"routerLink","queryParams"],[1,"material-icons"],[1,"p-0"],["mwlConfirmationPopover","","placement","left",1,"btn","delete",3,"popoverTitle","popoverMessage","confirm","cancel"],[3,"ngValue"],[1,"col-12"],["role","status",1,"spinner-border","m-5",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-center"],["src","./assets/icon/nodatafound.jpg","alt","not found image",1,"rounded",2,"width","400px","height","300px"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card-body","pt-0"],["aria-label","Default pagination",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","page","pageChange"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","py-0"],[1,"containers-fluid"],[4,"ngIf"],[1,"col-12","pt-3"],[1,"font-weight-bold"],["alt","no images","width","100%","height","auto",1,"img-fluid",3,"src"]],template:function(t,e){1&t&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"div",3),p.Sb(4,"div",4),p.Sb(5,"div",5),p.Sb(6,"div",6),p.Sb(7,"ng-select",7),p.dc("change",(function(t){return e.onStatusChange(t)}))("ngModelChange",(function(t){return e.selectedStatus=t})),p.Rb(),p.Rb(),p.Rb(),p.Sb(8,"div",5),p.Sb(9,"div",8),p.Sb(10,"h2"),p.Lc(11,"Requested Product List"),p.Rb(),p.Rb(),p.Rb(),p.Sb(12,"div",5),p.Sb(13,"div",9),p.Sb(14,"div",10),p.Sb(15,"input",11),p.dc("ngModelChange",(function(t){return e.search_key=t}))("keyup.enter",(function(){return e.onClickGo()}))("input",(function(t){return e._searchProduct(t.target.value)})),p.Rb(),p.Sb(16,"div",12),p.Sb(17,"button",13),p.dc("click",(function(){return e.onClickGo()})),p.Lc(18,"Search "),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Jc(19,L,20,1,"div",14),p.Jc(20,O,6,0,"div",15),p.Jc(21,_,4,0,"div",15),p.Rb(),p.Rb(),p.Rb(),p.Jc(22,k,4,3,"div",16),p.Rb(),p.Jc(23,E,33,8,"ng-template",null,17,p.Kc)),2&t&&(p.zb(7),p.mc("items",e.statusList)("selectOnTab",!0)("hideSelected",!0)("ngModel",e.selectedStatus),p.zb(8),p.mc("ngModel",e.search_key),p.zb(4),p.mc("ngIf",0==e.loading),p.zb(1),p.mc("ngIf",1==e.loading),p.zb(1),p.mc("ngIf",0==(null==e.products?null:e.products.totalElements)),p.zb(1),p.mc("ngIf",e.totalElements))},directives:[v.a,m.n,m.q,m.c,r.m,r.l,r.n,m.u,i.i,S.a,m.r,m.w,R.j],styles:[".card[_ngcontent-%COMP%]{border-radius:0}h2[_ngcontent-%COMP%]{font-size:26px;font-width:900}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#c97208;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.approve[_ngcontent-%COMP%]{color:#fff;background-color:#0f7062;cursor:pointer;padding:.5rem}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.disapprove[_ngcontent-%COMP%]{color:#fff;background-color:#ca371d;cursor:pointer;padding:.5rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{font-size:.785rem!important}.name[_ngcontent-%COMP%]{cursor:pointer;color:#0b7dda;line-height:1.2}select.form-control[_ngcontent-%COMP%]{color:#000;font-weight:700}"]}),j)},{path:"add",component:l.a},{path:"add/:id",component:l.a},{path:"add/new/:requestedId",component:l.a}],A=((D=function e(){t(this,e)}).\u0275mod=p.Kb({type:D}),D.\u0275inj=p.Jb({factory:function(t){return new(t||D)},imports:[[i.j.forChild(q)],i.j]}),D),N=c("iELJ"),x=c("Q2Ze"),G=c("LqlI"),T=((J=function e(){t(this,e)}).\u0275mod=p.Kb({type:J}),J.\u0275inj=p.Jb({factory:function(t){return new(t||J)},imports:[[r.c,A,N.d,v.b,m.j,m.t,x.c,S.b,R.h,G.b.forRoot()]]}),J)},mrSG:function(t,e,n){"use strict";function o(t,e,n,o){var c,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(i=(r<3?c(i):r>3?c(e,n,i):c(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function r(t,e,n,o){return new(n||(n=Promise))((function(c,r){function i(t){try{l(o.next(t))}catch(e){r(e)}}function a(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?c(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((o=o.apply(t,e||[])).next())}))}n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r}))}}])}();