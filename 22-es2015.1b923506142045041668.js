(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Unri:function(t,e,n){"use strict";n.r(e),n.d(e,"ProductsModule",(function(){return q}));var c=n("SVse"),o=n("iInd"),r=n("ON34"),i=n("AIlu"),a=n("mrSG"),l=n("pLZG"),s=n("Zy1z"),u=n("IheW"),d=n("8Y7J"),b=n("mb36"),g=n("EApP"),p=n("fb7o"),h=n("wTG2"),f=n("s7LF"),m=n("a3+x"),S=n("G0yt");function v(t,e){if(1&t&&(d.Sb(0,"option",30),d.Lc(1),d.Rb()),2&t){const t=e.$implicit;d.mc("ngValue",t.value),d.zb(1),d.Mc(t.name)}}const R=function(t){return{"background-color":t}},P=function(t){return["/products/add/new/",t]},C=function(t,e){return{status:t,productId:e}};function y(t,e){if(1&t){const t=d.Tb();d.Sb(0,"tr",22),d.Sb(1,"td"),d.Lc(2),d.Rb(),d.Sb(3,"td",23),d.Lc(4),d.Rb(),d.Sb(5,"td"),d.Lc(6),d.Rb(),d.Sb(7,"td"),d.Lc(8),d.Rb(),d.Sb(9,"td"),d.Sb(10,"select",24),d.dc("ngModelChange",(function(n){return d.zc(t),e.$implicit.status=n}))("change",(function(){d.zc(t);const n=e.$implicit;return d.hc(2).onChangeStatusClick(n)})),d.Jc(11,v,2,2,"option",25),d.Rb(),d.Rb(),d.Sb(12,"td"),d.Sb(13,"a",26),d.Sb(14,"i",27),d.Lc(15,"\ue254"),d.Rb(),d.Rb(),d.Rb(),d.Sb(16,"td",28),d.Sb(17,"button",29),d.dc("confirm",(function(){d.zc(t);const n=e.$implicit;return d.hc(2).onRemoveProduct(n)}))("cancel",(function(){return d.zc(t),d.hc(2).cancelClicked=!0})),d.Sb(18,"i",27),d.Lc(19,"\ue872"),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=e.$implicit,n=d.hc(2);d.mc("ngStyle",d.qc(11,R,n.isProductOperated(null==t?null:t.id,null==t?null:t.status))),d.zb(2),d.Nc(" ",null==t?null:t.name,""),d.zb(2),d.Mc(null==t?null:t.category_name),d.zb(2),d.Mc(null==t?null:t.brand_name),d.zb(2),d.Mc(null==t?null:t.status),d.zb(2),d.mc("ngModel",t.status),d.zb(1),d.mc("ngForOf",n.statusList),d.zb(2),d.mc("routerLink",d.qc(13,P,null==t?null:t.id))("queryParams",d.rc(15,C,n.selectedStatus,null==t?null:t.id)),d.zb(4),d.mc("popoverTitle",n.popoverTitle)("popoverMessage",n.popoverMessage)}}function M(t,e){if(1&t&&(d.Sb(0,"div",18),d.Sb(1,"table",19),d.Sb(2,"thead",20),d.Sb(3,"tr"),d.Sb(4,"th"),d.Lc(5," Name "),d.Rb(),d.Sb(6,"th"),d.Lc(7," Category "),d.Rb(),d.Sb(8,"th"),d.Lc(9," Brand "),d.Rb(),d.Sb(10,"th"),d.Lc(11," Status "),d.Rb(),d.Sb(12,"th"),d.Lc(13," Change Status "),d.Rb(),d.Sb(14,"th"),d.Lc(15," Update "),d.Rb(),d.Sb(16,"th"),d.Lc(17," Delete "),d.Rb(),d.Rb(),d.Rb(),d.Sb(18,"tbody"),d.Jc(19,y,20,18,"tr",21),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.hc();d.zb(19),d.mc("ngForOf",null==t.products?null:t.products.content)}}function z(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",31),d.Sb(2,"div",8),d.Sb(3,"div",32),d.Sb(4,"span",33),d.Lc(5,"Loading..."),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb())}function L(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",31),d.Sb(2,"div",34),d.Nb(3,"img",35),d.Rb(),d.Rb(),d.Rb())}function _(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div",36),d.Sb(1,"div",2),d.Sb(2,"div",37),d.Sb(3,"ngb-pagination",38),d.dc("pageChange",(function(e){return d.zc(t),d.hc().page=e}))("pageChange",(function(e){return d.zc(t),d.hc().onPaginateChange(e)})),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.hc();d.zb(3),d.mc("collectionSize",t.totalElements)("pageSize",t.size)("page",t.page)}}function O(t,e){if(1&t&&(d.Sb(0,"div"),d.Nb(1,"img",48),d.Rb()),2&t){const t=d.hc(2);d.zb(1),d.nc("src",null==t.iProduct?null:t.iProduct.images,d.Bc)}}function I(t,e){if(1&t&&(d.Sb(0,"div"),d.Nb(1,"img",48),d.Rb()),2&t){const t=d.hc(2);d.zb(1),d.nc("src",null==t.iProduct?null:t.iProduct.images[0],d.Bc)}}function w(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div",39),d.Sb(1,"h4",40),d.Lc(2),d.Rb(),d.Sb(3,"button",41),d.dc("click",(function(){return d.zc(t),d.hc().modalRef.hide()})),d.Sb(4,"span",42),d.Lc(5,"\xd7"),d.Rb(),d.Rb(),d.Rb(),d.Sb(6,"div",43),d.Sb(7,"div",44),d.Sb(8,"div",0),d.Sb(9,"div",31),d.Jc(10,O,2,1,"div",45),d.Jc(11,I,2,1,"div",45),d.Rb(),d.Sb(12,"div",46),d.Sb(13,"p"),d.Sb(14,"span",47),d.Lc(15,"Name: "),d.Rb(),d.Lc(16),d.Rb(),d.Sb(17,"p"),d.Sb(18,"span",47),d.Lc(19,"Category: "),d.Rb(),d.Lc(20),d.Rb(),d.Sb(21,"p"),d.Sb(22,"span",47),d.Lc(23,"Brand: "),d.Rb(),d.Lc(24),d.Rb(),d.Sb(25,"p"),d.Sb(26,"span",47),d.Lc(27,"Current Status: "),d.Rb(),d.Lc(28),d.Rb(),d.Sb(29,"p"),d.Sb(30,"span",47),d.Lc(31,"Description: "),d.Rb(),d.Lc(32),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.hc();d.zb(2),d.Nc("Product Details of ",null==t.iProduct?null:t.iProduct.name,""),d.zb(8),d.mc("ngIf",1==(null==t.iProduct||null==t.iProduct.images?null:t.iProduct.images.length)),d.zb(1),d.mc("ngIf",(null==t.iProduct||null==t.iProduct.images?null:t.iProduct.images.length)>1),d.zb(5),d.Mc(null==t.iProduct?null:t.iProduct.name),d.zb(4),d.Mc(null==t.iProduct?null:t.iProduct.category_names),d.zb(4),d.Mc(null==t.iProduct?null:t.iProduct.brand_name),d.zb(4),d.Nc("",null!=t.iProduct&&t.iProduct.approved?"Approved":"Unapproved"," "),d.zb(4),d.Mc(null==t.iProduct?null:t.iProduct.description)}}const k=[{path:"",component:r.a},{path:"requested",component:(()=>{class t{constructor(t,e,n,c,o){this.baseService=t,this.toastr=e,this.activatedRoute=n,this.router=c,this.requestedProductService=o,this.loading=!0,this.size=10,this.page=1,this.search_key="",this.popoverTitle="Are you sure?",this.popoverMessage="Are you really sure you want to delete this?",this.popoverApproveMessage="Are you really sure you want to approved this?",this.popoverUnapproveMessage="Are you really sure you want to unapproved this?",this.cancelClicked=!1,this.statusList=[{id:1,name:"Pending",value:"PENDING"},{id:2,name:"Processed",value:"PROCESSED"},{id:3,name:"Accepted",value:"ACCEPTED"},{id:4,name:"Declined",value:"DECLINED"}],this.selectedAction=null}ngOnInit(){this.retrieveFilteredData().then(t=>{this.page=this.activatedRoute.snapshot.paramMap.get("page")?Number(this.activatedRoute.snapshot.paramMap.get("page")):1,this.onClickGo()})}onClickGo(){this.get_products(this.page-1,this.size,this.selectedStatus)}get_products(t,e,n,c=this.search_key){this.loading=!0,this.totalElements=null,this.requestedProductService.get_products(t,e,n,c).subscribe(t=>{var e;this.products=t,this.loading=!1,this.totalElements=null===(e=this.products)||void 0===e?void 0:e.totalElements},t=>{this.products=null,this.loading=!1,this.totalElements=null,this.baseService.handleError(t)})}onPaginateChange(t){this.router.navigate(["/products",{page:t}]),this.get_products(this.page-1,this.size,this.selectedStatus)}_searchProduct(t){""==t&&this.get_products(this.page-1,this.size,this.selectedStatus)}onRemoveProduct(t){this.requestedProductService.remove_products(t.id).subscribe(t=>{this.toastr.success("Deleted Successfully!",""),this.onClickGo()},t=>{this.baseService.handleError(t)})}onChangeStatusClick(t){confirm("Are you sure to Change Status")&&this.requestedProductService.change_status(t).subscribe(t=>{this.toastr.success("Product Status Changed Successfully!","")},t=>{this.baseService.handleError(t)})}onStatusChange(t){null!=t||null!=t?this.get_products(this.page-1,this.size,null==t?void 0:t.value):this.onClickGo()}retrieveFilteredData(){return Object(a.a)(this,void 0,void 0,(function*(){this.router.events.pipe(Object(l.a)(t=>t instanceof o.l),Object(s.a)()).subscribe(t=>{let e=t[0].urlAfterRedirects.split("?");if(e.length>=2){const t=new u.d({fromString:e[1]});t.get("status")&&localStorage.setItem("status",t.get("status")),t.get("productId")&&localStorage.setItem("productId",t.get("productId"))}}),localStorage.getItem("status")&&(this.selectedStatus=Boolean(localStorage.getItem("status")),localStorage.removeItem("status")),localStorage.getItem("productId")&&(this.selectedProductId=Number(localStorage.getItem("productId")),localStorage.removeItem("productId"))}))}isProductOperated(t,e){return t==this.selectedProductId?"#80ff80":"ACCEPTED"!=e?"#f7c2b5":void 0}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(b.a),d.Mb(g.b),d.Mb(o.a),d.Mb(o.f),d.Mb(p.a))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-requested-product"]],decls:25,vars:9,consts:[[1,"row"],[1,"col-lg-12","grid-margin","stretch-card","mb-0"],[1,"card"],[1,"card-body"],[1,"card-title","row"],[1,"col-md-4"],[1,"form-group","mb-0"],["bindValue","value","bindLabel","name","placeholder","Select Status",3,"items","selectOnTab","hideSelected","ngModel","change","ngModelChange"],[1,"d-flex","justify-content-center"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search Product","aria-label","search product",1,"form-control",3,"ngModel","ngModelChange","keyup.enter","input"],[1,"input-group-append"],["type","button",1,"btn","btn-sm","btn-gradient-primary",3,"click"],["class","table-responsive pt-3",4,"ngIf"],["class","row",4,"ngIf"],["class","col-lg-12 grid-margin stretch-card",4,"ngIf"],["template",""],[1,"table-responsive","pt-3"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"category"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["title","Edit","data-toggle","tooltip",1,"edit",3,"routerLink","queryParams"],[1,"material-icons"],[1,"p-0"],["mwlConfirmationPopover","","placement","left",1,"btn","delete",3,"popoverTitle","popoverMessage","confirm","cancel"],[3,"ngValue"],[1,"col-12"],["role","status",1,"spinner-border","m-5",2,"width","3rem","height","3rem"],[1,"sr-only"],[1,"text-center"],["src","./assets/icon/nodatafound.jpg","alt","not found image",1,"rounded",2,"width","400px","height","300px"],[1,"col-lg-12","grid-margin","stretch-card"],[1,"card-body","pt-0"],["aria-label","Default pagination",1,"d-flex","justify-content-center",3,"collectionSize","pageSize","page","pageChange"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","py-0"],[1,"containers-fluid"],[4,"ngIf"],[1,"col-12","pt-3"],[1,"font-weight-bold"],["alt","no images","width","100%","height","auto",1,"img-fluid",3,"src"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Sb(3,"div",3),d.Sb(4,"div",4),d.Sb(5,"div",5),d.Sb(6,"div",6),d.Sb(7,"ng-select",7),d.dc("change",(function(t){return e.onStatusChange(t)}))("ngModelChange",(function(t){return e.selectedStatus=t})),d.Rb(),d.Rb(),d.Rb(),d.Sb(8,"div",5),d.Sb(9,"div",8),d.Sb(10,"h2"),d.Lc(11,"Requested Product List"),d.Rb(),d.Rb(),d.Rb(),d.Sb(12,"div",5),d.Sb(13,"div",9),d.Sb(14,"div",10),d.Sb(15,"input",11),d.dc("ngModelChange",(function(t){return e.search_key=t}))("keyup.enter",(function(){return e.onClickGo()}))("input",(function(t){return e._searchProduct(t.target.value)})),d.Rb(),d.Sb(16,"div",12),d.Sb(17,"button",13),d.dc("click",(function(){return e.onClickGo()})),d.Lc(18,"Search "),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Jc(19,M,20,1,"div",14),d.Jc(20,z,6,0,"div",15),d.Jc(21,L,4,0,"div",15),d.Rb(),d.Rb(),d.Rb(),d.Jc(22,_,4,3,"div",16),d.Rb(),d.Jc(23,w,33,8,"ng-template",null,17,d.Kc)),2&t&&(d.zb(7),d.mc("items",e.statusList)("selectOnTab",!0)("hideSelected",!0)("ngModel",e.selectedStatus),d.zb(8),d.mc("ngModel",e.search_key),d.zb(4),d.mc("ngIf",0==e.loading),d.zb(1),d.mc("ngIf",1==e.loading),d.zb(1),d.mc("ngIf",0==(null==e.products?null:e.products.totalElements)),d.zb(1),d.mc("ngIf",e.totalElements))},directives:[h.a,f.n,f.q,f.c,c.m,c.l,c.n,f.u,o.i,m.a,f.r,f.w,S.j],styles:[".card[_ngcontent-%COMP%]{border-radius:0}h2[_ngcontent-%COMP%]{font-size:26px;font-width:900}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#c97208;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{color:#e34724;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.approve[_ngcontent-%COMP%]{color:#fff;background-color:#0f7062;cursor:pointer;padding:.5rem}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.disapprove[_ngcontent-%COMP%]{color:#fff;background-color:#ca371d;cursor:pointer;padding:.5rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{font-size:.785rem!important}.name[_ngcontent-%COMP%]{cursor:pointer;color:#0b7dda;line-height:1.2}select.form-control[_ngcontent-%COMP%]{color:#000;font-weight:700}"]}),t})()},{path:"add",component:i.a},{path:"add/:id",component:i.a},{path:"add/new/:requestedId",component:i.a}];let E=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(k)],o.j]}),t})();var j=n("iELJ"),D=n("Q2Ze"),J=n("LqlI");let q=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},imports:[[c.c,E,j.d,h.b,f.j,f.t,D.c,m.b,S.h,J.b.forRoot()]]}),t})()},mrSG:function(t,e,n){"use strict";function c(t,e,n,c){var o,r=arguments.length,i=r<3?e:null===c?c=Object.getOwnPropertyDescriptor(e,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,c);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function r(t,e,n,c){return new(n||(n=Promise))((function(o,r){function i(t){try{l(c.next(t))}catch(e){r(e)}}function a(t){try{l(c.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}l((c=c.apply(t,e||[])).next())}))}n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}))}}]);